define("yaul/make",["require","exports","module"],function(e,t,n){n.exports=function(t,n,r){return t[n]=t[n]||r,t[n]}}),define("yaul/typeOf",["require","exports","module"],function(e,t,n){n.exports=function(t,n,r){function s(e){return Object.prototype.toString.call(e)}var i=typeof t;if(t===null)return"null";if(i==="object")if(t){var o=s(t);typeof t.length=="number"?(o=="[object Array]"&&(i="array"),o==="[object Arguments]"&&(i="arguments")):null!==t&&!isNaN(t)&&"undefined"!=typeof t.getDate&&(i="date"),o==="[object RegExp]"&&(i="regexp"),t.nodeName&&(t.nodeType===1?i="element":t.nodeType===3&&(i=/\S/.test(t.nodeValue)?"textnode":"whitespace"))}else i="null";return n===r?i:i===n}}),define("yaul/isArray",["require","exports","module"],function(e,t,n){n.exports=function(t){return Object.prototype.toString.call(t)==="[object Array]"}}),define("yaul/hasOwn",["require","exports","module"],function(e,t,n){n.exports=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}),define("yaul/slice",["require","exports","module"],function(e,t,n){n.exports=function(t,n){return Array.prototype.slice.call(t,n)}}),define("yeah/mixin",["require","exports","module","yaul/make","yaul/typeOf","yaul/isArray","yaul/hasOwn","yaul/slice"],function(e,t,n){function a(e){var t=r(this,p,{});return e.indexOf(":")&&f.test(e)&&(e=e.replace(f,""),t[e]=1),e}var r=e("yaul/make"),i=e("yaul/typeOf"),s=e("yaul/isArray"),o=e("yaul/hasOwn"),u=e("yaul/slice"),f=/:(latch(ed$)?)/i,l="call",c="_events",h="_switched",p="_latched",d="_arguments",v={getEvents:function(e){var t=r(this,c,{}),n=t[type];return i(e,"string")?n?n:[]:Object.keys(t)},addCompoundEvent:function(e,t,n){function o(){var n=e.length;while(n--)if(!s[e[n]])return;i.fireEvent(t+":latched")}t=a[l](this,t);var i=this,s=r(i,h,{});e=e.map(function(e){return i.grr&&console.log(e),e=a[l](i,e),i.addEvent(e,o),e}),n&&i.addEvent(t,n)},addEvent:function(e,t){if(s(e))return this.addCompoundEvent.apply(this,arguments);e=a[l](this,e);var n=this,o=r(n,c,{}),u=r(o,e,[]),f,h;if(!i(t,"function"))throw new TypeError("`#addEvent`'s second argument must be a function");return u.indexOf(t)===-1&&(f=r(n,d,{}),h=r(n,p,{}),h[e]?t.apply(n,f[e]):u.push(t)),n},addEvents:function(e){var t=this;for(var n in e)o(e,n)&&t.addEvent(n,e[n]);return t},fireEvent:function(e){e=a[l](this,e);var t=this,n=r(t,p,{}),i=r(t,h,{}),s=r(t,d,{}),o=r(t,c,{}),f=n[e],v=o[e],m=v?v.length:0,g=u(arguments,1),y=0;i[e]=1;if(v&&m)for(;y<m;y++)y in v&&v[y].apply(t,g);return f&&(s[e]=g,delete o[e]),t},hasFired:function(e){var t=r(this,h,{});return t[e]?!0:!1}};n.exports=v}),define("yaul/extend",["require","exports","module","./hasOwn","./typeOf"],function(e,t,n){function s(){var e=arguments[0]||{},t=1,n=arguments.length,o,u,a,f,l,c;if(n<=1)throw new Error("`extend` requires at least two arguments.");typeof e!="object"&&typeof e!="function"&&(e={});for(;t<n;t++)if((o=arguments[t])!==null)for(u in o)if(r(o,u)){a=e[u],f=o[u];if(e===f)continue;f&&(i(f,"object")||(l=i(f,"array")))?(l?(l=!1,c=a&&i(a,"array")?a:[]):c=a&&i(a,"object")?a:{},e[u]=s(c,f)):f!==undefined&&(e[u]=f)}return e}var r=e("./hasOwn"),i=e("./typeOf");n.exports=s}),define("blocks/main",["yeah/mixin","yaul/extend","yaul/slice"],function(e,t,n){var r=t({_:{blocks:{},layouts:{}},config:function(){},constructors:{},register:function(e,t){var n=this;if(n._.blocks[e])throw new Error("A block with the name `"+e+"` already exists");n._.blocks[e]=t},addLayout:function(e,t,n){var r=this;r._.layouts[e]=new Layout(e,t,n)},showLayout:function(e,t){var n=this,r=n._.layouts[e],i;if(!r){window.console&&console.warn("Theres no layout with the key `"+e+"`.");return}t=(t||r.getWhere()).split("#"),typeof r.getBlock()=="function"&&(r.block=r.block()),i=this.reference(t[0]),i&&(i.emptyChildNode(t[1]),i.setChild(t[1],r.block))},reference:function(e){var t=this;return t._.blocks[e]}},e);return r}),define("blocks",["blocks/main"],function(e){return e}),define("yaul/forEach",["require","exports","module"],function(e,t,n){n.exports=function(t,n){return Array.prototype.forEach.call(t,n)}}),define("yaul/isElement",["require","exports","module"],function(e,t,n){n.exports=function(t){try{return t instanceof HTMLElement}catch(n){return typeof t=="object"&&t.nodeType===1&&typeof t.style=="object"&&typeof t.ownerDocument=="object"}}}),define("yaul/trim",["require","exports","module"],function(e,t,n){var r="[    	\n\f\r   ᠎                 　\u2028    \u2029﻿  ]",i=new RegExp("^"+r+r+"*"),s=new RegExp(r+r+"*$");n.exports=function(t){return String(t).replace(i,"").replace(s,"")}}),define("blocks/block/mixin",["require","exports","module","yaul/make","yaul/forEach","yaul/isArray","yaul/isElement","yaul/hasOwn","yaul/slice","yaul/trim"],function(e,t,n){var r=e("yaul/make"),i=e("yaul/forEach"),s=e("yaul/isArray"),o=e("yaul/isElement"),u=e("yaul/hasOwn"),a=e("yaul/slice"),f=e("yaul/trim"),l=0,c={setChild:function(t,n){if(t===undefined||n===undefined)return;var o=this,u=r(o.getChildren(),t,[]),a=o.getBoundElement(t);return s(n)?i(n,function(e){u.push(e),a&&a.appendChild(e.toElement())}):(u.push(n),a&&a.appendChild(n.toElement())),o},getChild:function(t){return this.getChildren()[t]},removeChild:function(t){return this.removeChildren(t)},setChildren:function(t){if(!t)return;for(var n in t)u(t,n)&&this.setChild(n,t[n])},getChildren:function(t){var n=s(t)?t:a(arguments),o=r(this,"_children",{}),u;return n.length>0&&(u={},i(n,function(e){u[e]=this.getChild(e)})),u||o},getChildHtml:function(t){var n=this.getChild(t),r=n&&n.map(function(e){return String(e)}).join("\n");return r},removeChildren:function(t){var n=this,r=s(t)?t:a(arguments,0),i=n.getChildren(),o={},f={},l;if(r.length>0){for(l in i)u(i,l)&&(r.indexOf(l)===-1?o[l]=i[l]:(f[l]=i[l],n.emptyChildNode(l)));n._children=o}return f},emptyChildNode:function(t){var n=this.getBoundElement(t);n&&n.children.length&&i(n.children,function(e,t){n.removeChild(e),delete n.children[e]})},attachEvents:function(){var t=this,n=r(this,"events",{}),i,s,o,a,l,c,h,p;for(h in n)if(u(n,h)){o=n[h],i=t.getBoundElement(h);if(i)for(p in o)if(u(o,p)){eventKeys=p.split(","),a=o[p];while(eventKeys.length)l=eventKeys.pop(),l&&t.bindEvent(i,f(l).toLowerCase(),a)}}},detachEvents:function(){},bindEvent:function(t,n,r){var i=this;t.addEventListener?t.addEventListener(n,function(e){r.call(this,e,i)},!1):t.attachEvent&&t.attachEvent("on"+n,function(e){r.call(this,e,i)})},unbindEvent:function(t,n,r){t.removeEventListener?t.addEventListener(n,r,!1):t.detachEvent&&t.detachEvent("on"+n,r)},bindTemplate:function(){var t=this,n=document.createElement("div"),r=t.getContainer();n.innerHTML=t.compile(t._context,t);while(n.children.length)r.appendChild(n.children[0])},bindElements:function(t){var n=this,r;if(!o(t))throw new Error(Block.errors.parseElements[0]);n.clearBoundElements(),r=t.querySelectorAll("[bind],[block],block,b[name]"),i(r,function(e){var t=e.getAttribute("bind"),r=e.tagName.toLowerCase();!t&&(r==="block"||r==="b")&&(t=e.getAttribute("name")),n.setBoundElement(t,e)})},bindChildren:function(){var t=this,n=t.getChildren(),r,o,a,f=[];for(key in n)r=null,u(n,key)&&(modules=n[key],r=t.getBoundElement(key),!!r&&s(modules)&&modules.length>0&&i(modules,function(e){r.appendChild(e.toElement())}))},clearBoundElements:function(t){var n=s(t)?t:a(arguments),r=this.getBoundElements(n);this._bound={}},setBoundElement:function(t,n){var i=r(this,"_bound",{}),s=i[t]=i[t]||[];s.push(n)},getBoundElements:function(t){var n=this,t=s(t)?t:a(arguments),r={};return t.length?i(t,function(e){r[e]=n.getBoundElement(e)}):r=n._bound,r},getBoundElement:function(t){var n,i=r(this,"_bound",{});return(n=i[t])?n.length===1?n[0]:n:undefined},getContainer:function(){var t=this;return t.container||t.setContainer()},setContainer:function(t){return this.container=t?typeof t=="string"?document.createElement(t):t:document.createElement("div")},cleanUp:function(){},getUniqueId:function(){var t=this;return t._uniqueId=r(t,"_uniqueId",Date.now().toString(36)+l++)},toString:function h(){return'<span bind="'+this.getUniqueId()+'" data-type="module"></span>'},fillContainer:function(t){var n=this,r=n.getContainer(),i=r.cloneNode(!0),t=t||document.createDocumentFragment();n.bindElements(i),n.attachEvents&&n.attachEvents.call(this);while(i.children.length)t.appendChild(i.children[0]);n.bindChildren(),n.placeholder&&(n.placeholder.parentNode.replaceChild(t,n.placeholder),delete n.placeholder)},toElement:function(){var t=document.createDocumentFragment(),n;return this.ready?this.fillContainer(t):(n=this.placeholder=document.createElement("div"),n.setAttribute("class","block-loading"),t.appendChild(n)),this.fireEvent("after:toElement"),t},inject:function(e){return typeof e=="string"&&(e=document.getElementById(e)),e.appendChild(this.toElement()),this}};c.bound=c.getBoundElement,c.getChildHTML=c.getChildHtml,c.getChildrenHTML=c.getChildrenHtml,n.exports=c}),define("yate/mixin",["require","exports","module","yaul/hasOwn","yaul/forEach","yaul/typeOf","yaul/make","yaul/trim"],function(e,t,n){var r=e("yaul/hasOwn"),i=e("yaul/forEach"),s=e("yaul/typeOf"),o=e("yaul/make"),u=e("yaul/trim"),a=function(e){return e?(e=u(String(e)),e.charAt(0)==="<"||/\n/.test(e)?!1:/^te(xt|mplate)!/.test(e)?!0:l.test(e)):!1},f=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},l=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi,c={_templateTags:{open:"<%",close:"%>"},_templateOperators:{interpolate:["=([\\s\\S]+?)",function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}],escape:["-([\\s\\S]+?)",function(e,t){return"',escape("+t.replace(/\\'/g,"'")+"),'"}]},setContext:function(e,t){var n=this,i=n.getContext(),o;if(s(e,"object")){for(o in e)r(e,o)&&n.setContext(o,e[o]);return}return i[e]=t,n},getContext:function(e){e=s(e,"array")?e:Array.prototype.slice.call(arguments,0);var t=o(this,"_context",{});return arguments.length>0&&i(e,function(e){t[e]=this._context[e]}),t},setTags:function(e){for(var t in e)r(e,t)&&this.setTag(t,e[t]);return this},setTag:function(e,t){return this._templateTags[e]=String(t).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),this},getTags:function(){return this._templateTags},getTag:function(e){return this._templateTags[e]},setTemplate:function(e){e=u(e).replace(/\\?'/g,"\\'");if(!e)return;var t=this;a(e)?window.require([e],function(e){t._template=u(e).replace(/\\?'/g,"\\'"),t.fireEvent&&t.fireEvent("template:ready:latched",t._template)}):(t._template=e,t.fireEvent&&t.fireEvent("template:ready:latched",e))},getTemplate:function(){return this._template||""},parseOperators:function(){var e,t,n=this._templateOperators;for(e in n)r(n,e)&&(t=n[e],typeof t[0]=="string"&&this.addOperator(e,t[0],t[1]))},getOperators:function(){var e=this;return e._operatorsParsed||e.parseOperators(),e._templateOperators},addOperator:function(e,t,n){var r=this;s(t,"regexp")||(t=new RegExp(r.getTag("open")+t+r.getTag("close"),"g")),r._templateOperators[e]=[t,n]},compile:function(e,t){data=e||this.getContext();var n=this,i=n.getTag("open"),s=n.getTag("close"),o=n.getOperators(),u,a,f="var p=[],print=function(){p.push.apply(p,arguments);};",l=["with(__o){p.push('","');}return p.join('');"],c=null,h=n.getTemplate(),p=h?h.replace(/[\r\t\n]/g," "):"<b>No template</b>";for(u in o)r(o,u)&&(p=p.replace(o[u][0],o[u][1]));p=p.replace(new RegExp(i+"([\\s\\S]+?)"+s,"g"),function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+";p.push('"}),p=p.split("	").join("');").split("\r").join("\\'");try{a=f+l.join(p),c=new Function("__o",f+l.join(p))}catch(d){window.console&&console.warn(d)&&console.warn(a)}return c.call(t,data)}};n.exports=c}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("text!blocks/block/styles.css",[],function(){return"b[name] {\n  display: block;\n  font-weight: normal;\n}"}),define("blocks/block/index",["require","exports","module","../main","./mixin","yate/mixin","yeah/mixin","yaul/hasOwn","yaul/forEach","yaul/slice","yaul/isArray","yaul/make","yaul/typeOf","text!./styles.css"],function(e,t,n){function d(e){return a(f(arguments,1),function(t){for(var n in t)u(t,n)&&(e[n]=t[n])}),e}function v(e,t){if(!(this instanceof v))return new v(e,t);var n=this,r=h(e),i=h(t);r==="string"?(n.key=e,n.setOptions(t||{})):(r==="object"||r==="undefined")&&n.setOptions(e||{}),n.initialize(n.options)}var r=e("../main"),i=e("./mixin"),s=e("yate/mixin"),o=e("yeah/mixin"),u=e("yaul/hasOwn"),a=e("yaul/forEach"),f=e("yaul/slice"),l=e("yaul/isArray"),c=e("yaul/make"),h=e("yaul/typeOf"),p=e("text!./styles.css");(function(){var e=document.createElement("style");e.innerHTML=p;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})(),v.prototype=d({defaults:{onReady:["template:ready",function(){var t=this;t.ready=!0,t.setContext(t.options.context),t.bindTemplate(),t.fillContainer()}]},initialize:function(e){var t=this;t.readyReady(),c(this,"events",e.events||{}),t.setChildren(e.children),t.setContainer(e.container),t.setTemplate(e.template||this.template)},readyReady:function(e){var t=this;if(!!e||!t.options.onReady)return;e=t.options.onReady,e=l(e)?e:f(arguments,0);var n=e[e.length-1];t.addEvent(Array.prototype.slice.call(e,0,-1),"block:ready",n.bind(t))},setOptions:function(e){var t=this,n=c(t,"options",{}),r=c(t,"defaults",{});return d(n,r,e||{})}},s,o,i),v.create=function(e,t){function n(n,r){var i=this;h(t,"object")&&d(i,t),v.prototype.setOptions.call(i,e);var s=h(n),o=h(r);s==="string"?(i.key=n,i.setOptions(r||{})):(s==="object"||s==="undefined")&&i.setOptions(r||{}),i.initialize(i.options)}return n.prototype=d({},v.prototype),n},r.block=v,n.exports=v}),define("blocks/block",["require","exports","module","./block/index"],function(e,t,n){n.exports=e("./block/index")})